<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Thoughts on latest technologies">

    <title>Override Alfresco Custom Authentication System - Xebia Blog</title>

    <link rel="canonical" href="http://xebia.com/2014/08/29/override-alfresco-custom-authentication-system/">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/clean-blog.css">

    <!-- Pygments Github CSS -->
    <link rel="stylesheet" href="/css/syntax.css">

    <!-- Custom Fonts -->
    <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>


<body>

    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Xebia Blog</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="/">Home</a>
                </li>
                
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>


    <!-- Post Header -->
<header class="intro-header" style="background-image: url('/img/default-blog-pic.jpg')">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <h1>Override Alfresco Custom Authentication System</h1>
                    
                    <span class="meta">Posted by SOURABH AGGARWAL on August 29, 2014</span>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">

				<h1>Override Alfresco Custom Authentication System</h1>

<p>Alfresco is one of the most popular and widely used Document management system in the world.</p>

<p>In this blog I am explaining how we can override the complete alfresco authentication system.</p>

<p>Alfresco is the Document Management System and in these type of system document security is one of the key concern of all whose who are working with these type of systems.</p>

<p>In this blog I am not bothering about document Authorization my main concern is about Alfresco authentication system.</p>

<p>Alfresco authentication system is based on modules in which each of the module is the Subsystem for authentication we can use one or more subsystem at one time for authentication within alfresco leave other at same time by defining it within the chain of authentication.</p>

<p>When user try to Login within the Alfresco. Authentication system check for all those subsystem which are configured in the authentication chain of alfresco if user try to Login with credential present in one authentication subsystem but not in another user will be able to Login but if user is not valid in all the subsystem configured in authentication chain then he/she is not able to Login within the Alfresco system.</p>

<p>In Alfresco we are having many kind of authentication subsystem employed for user authentication.</p>

<p>TYPE
DESCRIPTION</p>

<p>ALFRESCO NTLM
This is the default alfresco way of authentication comes with alfresco sometime called Native Alfresco Authentication.</p>

<p>EXTERNAL
Authentication based on some external authentication mechanism.</p>

<p>LDAP-AD
This authentication system provide user authentication from LDAP active directory based on LDAP protocol it also allow user export from LDAP active directory.</p>

<p>KERBEROS</p>

<p>Kerberos provide very strong encryption mechanism compared to other. Java Authentication and Authorization Service (JAAS) is used within the Kerberos subsystem to support Kerberos authentication of user name and password.</p>

<p>LDAP
This authentication system provide user authentication from open LDAP based on LDAP protocol it also allow user export from open LDAP.</p>

<p>PASSTHRU</p>

<p>Thisauthentication system isused to replace the User database in Alfdresco System with a Windows server controller, domain controller, or list of servers to authenticate users.</p>

<p>We can use more than one authentication system at one time to allow user within alfresco system.</p>

<p>There is authentication chain within alfresco where we can define which all authentication subsystem we want to employ for authentication in alfresco.</p>

<p>Like :- </p>

<p><code>authentication.chain= ldap1:ldap,alfrescoNtlm1:alfrescoNtlm;</code></p>

<p>Here we have used two authentication system one is Open LDAP and another is Alfresco NTLM.</p>

<p>Here we start how to override the complete alfresco authentication and write our own code for authenticating user.</p>

<p>STEP 1 : Create Folder MyCustomAuthentication in project directory Alfresco_Installation/tomcat/webapps/alfresco/WEB-INF/classes/alfresco/subsystems/Authentication.</p>

<p>STEP 2 : Create file mycustom-authentication.properties within MyCustomAuthentication folder with following content.</p>

<p><code>external.authentication.defaultAdministratorUserNames=admin</code></p>

<p>STEP 3: Create file mycustom-authentication-context.xml within MyCustomAuthentication folder with following content.</p>

<p>&lt;?xmlversion=<em>&#39;1.0&#39;</em>encoding=<em>&#39;UTF-8&#39;</em>?&gt;</p>

<p>&lt;!DOCTYPEbeansPUBLIC&#39;-//SPRING//DTD BEAN//EN&#39;&#39;http://www.springframework.org/dtd/spring-beans.dtd&#39;&gt;</p>

<p><beans></p>

<p>&lt;beanid=<em>&quot;authenticationComponent&quot;</em>class=<em>&quot;org.alfresco.repo.security.authentication.</em><em>MyCustomAuthentication</em><em>.</em><em>My</em><em>CustomAuthenticationImpl&quot;</em></p>

<p>parent=<em>&quot;authenticationComponentBase&quot;</em>&gt;</p>

<p><propertyname=_"nodeService"_></p>

<p><refbean=_"nodeService"_/></p>

<p></property></p>

<p><propertyname=_"personService"_></p>

<h2>Comments</h2>

<p><strong><a href="#9511" title="2014-09-01 06:07:47">lelak</a>:</strong> Hello Sourabh, congrats for the great article. My name is Tiago director at LELAK hipermidia. We have a Alfresco Project that is requiring some expertise that we don&#39;t have currently on our team. We need to setup Alfresco Community 5 to Authenticate through Google Apps accounts. We are considering these options (in order of preferred solution): 1) Authenticate on Alfresco with google Apps accounts directly using some SSO support like: https://github.com/gdepourtales/share-oauth-sso 2) Authenticate through openLDAP and synchronize openLDAP with Google APPS (GADS) 3) Authenticate with passthrough and active directory, using the GADS (google directory sync) to synchronize accounts with the Active Directory. Are you interested on working on some Alfresco tasks with us? Please let us know, and give your cost for this task. Please leave this comment private. Thank you! Tiago | LELAK</p>


                <hr>

                <div id="disqus_thread"></div>
<script type="text/javascript">
/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
var disqus_shortname = 'xebiaww'; // required: replace example with your forum shortname

/* * * DON'T EDIT BELOW THIS LINE * * */
(function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

                <hr>

                <ul class="pager">
                    
                    <li class="previous">
                        <a href="/2014/08/25/devops-with-my-experience/" data-toggle="tooltip" data-placement="top" title="Devops With My Experience">&larr; Previous Post</a>
                    </li>
                    
                    
                    <li class="next">
                        <a href="/2014/08/30/extending-selenium-grid-capabilities/" data-toggle="tooltip" data-placement="top" title="Extending Selenium Grid Capabilities">Next Post &rarr;</a>
                    </li>
                    
                </ul>

            </div>
        </div>
    </div>
</article>

<hr>


    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    <li>
                        <a href="/feed.xml">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="https://twitter.com/XebiaIndia">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li>
                        <a href="https://www.facebook.com/XebiaIndia">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-facebook fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li>
                        <a href="https://github.com/xebiaww">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                </ul>
                <p class="copyright text-muted">Copyright &copy; Xebia Blog 2015</p>
            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="/js/jquery.min.js "></script>

<!-- Bootstrap Core JavaScript -->
<script src="/js/bootstrap.min.js "></script>

<!-- Custom Theme JavaScript -->
<script src="/js/clean-blog.min.js "></script>


</body>

</html>
