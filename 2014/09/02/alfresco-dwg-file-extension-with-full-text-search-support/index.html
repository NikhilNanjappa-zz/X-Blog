<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Alfresco Dwg File Extension With Full Text Search Support</title>

        <link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,400,300,600,700' rel='stylesheet' type='text/css'>
        <link href='http://fonts.googleapis.com/css?family=Open+Sans+Condensed:300' rel='stylesheet' type='text/css'>

        <link rel="stylesheet" href="/css/google.css">
        <link rel="stylesheet" href="/css/base.css">

    </head>
    <body>
       <header>
         <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12 pull-right">
             <form class="navbar-form navbar-right" role="search">
             <script>
  (function() {
    var cx = '006895008187340762068:8j3g16d5zty';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
        '//www.google.com/cse/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>
             </form>
           </div>
            <div id="logo">
                <!-- <img src="/img/xebia.jpg" alt=""> -->
            </div>
            <div id="site-heading">
                <h2 class="title">Xebia Blog</h2>
                <h3 class="subtitle">Thoughts on latest technologies</h3>
            </div>
            <ul id="nav">
                 <li class=""><a href="/">Blog</a></li>
                 <li><a href="https://xebia.com/" target="_blank">Xebia</a></li>
            </ul>
       </header>
       <div id="main-contents">

<div class="single-post">
    <div class="container">
        <div class="post-item">
          <!-- Go to www.addthis.com/dashboard to customize your tools -->
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=shekhargulati" async="async"></script>

            <div class="post-body">
                <div class="meta">
                  <span class="meta">Posted by <a href="/author/Sourabh Aggarwal">Sourabh Aggarwal</a> on </span>
                  <span class="date">02 September 2014</span>
                </div>
                <div class="content">
                    <h1>Alfresco DWG file extension with full text search support</h1>

<p>Engineering drawing is one of the most widely used content with Extension .DWG or .DXF .</p>

<h1>Table of Contents</h1>

<ul>
<li><a href="#what-is-dwg-file">What is DWG file?</a></li>
<li><a href="#content-transformer">Content Transformer :</a></li>
<li><a href="#complex-transformer">COMPLEX TRANSFORMER :</a></li>
<li><a href="#use-cases">Use Cases:</a></li>
<li><a href="#starting-with-example">Starting with Example :</a>

<ul>
<li><a href="#first">First : :</a></li>
<li><a href="#second">Second : :</a></li>
</ul></li>
</ul>

<h2>What is DWG file? <a id="what-is-dwg-file"></a></h2>

<p>DWG file is binary file which is being used to store two and three dimensional design or data. There are some other format that belong to the same format like .BAK, .DWS, .DWT, .SV$ etc. but DWG is the native format for most of the CAD software used like IntelliCAD, AotoCAD etc.</p>

<p>From the past we are employing many of the popular DMS to save engineering drawing and getting it back when ever its required.</p>

<p>The are many blogs or article that define how we can preview DWG file in Alfresco using custom transformers.</p>

<p>Most important thing about my article is that i am not only focusing about how we can preview DWG file in alfresco using custom transformer but also how we can search DWG file using full text search in Alfresco.</p>

<p>As we all know that Alfresco uses Lucene and Solr for searching content within Alfresco directory when content is being uploaded to Alfresco, Alfresco uses custom transformer to transform that content to text and create Lucene or solr indexes for searching that content using Full text search.</p>

<p>But import thing to notice here is that all OCR(Optical character recognition) used to transform image in DWG to TXT are not 100% accurate but they gives best output.</p>

<p>Main purpose of this article is that you must be able to create a complete DWG previewer along with full text search so that we can search content inside DWG file.</p>

<p>There are many plugins available in the market for previewing DWG file but they may or may not give you the best output you required.</p>

<p>First I will explain you how alfresco content transformer and complex transformer works.</p>

<h2>Content Transformer : <a id="content-transformer"></a></h2>

<p>Content transformer is used in alfresco to transform one file type to another using some tools already configured with alfresco or some external tools that are integrated with alfresco.</p>

<p><strong>Like :-</strong> I take an example of JPG file that is being converted to PDF file.</p>

<p><img src="http://xebee.xebia.in/wp-content/uploads/2014/09/C1-300x269.png" alt="C1"></p>

<p>Here JPG to PDF transformer is used to transform JPG image to PDF file but it not Searchable PDF at all because there is no OCR(Optical character recognition) tool integrated to check content within the image file.</p>

<p>By integrating any OCR(Optical character recognition) tool that can convert JPG to TXT we overcome that problem.</p>

<h2>COMPLEX TRANSFORMER : <a id="complex-transformer"></a></h2>

<p>Complex transformer also work in the same manner as content transformer the difference between those two is that there is intermediate file in between transformation process.</p>

<p>File there are chain of transformer being employed to transform one file to another file.</p>

<p><strong>Like :-</strong> I take an example of JPG file that is being converted into SWF(Flash File) file(there may be a case when there is one tool used to convert JPG to SWF I am not taking that in consideration).</p>

<p><img src="http://xebee.xebia.in/wp-content/uploads/2014/09/CU-300x140.png" alt="CU"></p>

<p>Here the JPG image is first convert into PDF image using JPG to PDF converter configured with Alfresco system and then PDF generated will be again converted into SWF file using PDF to SWF converter configured. Note that if there is director converter for transforming JPG to SWF configured with Alfresco then its not a complex transformation process.</p>

<h2>Use Cases: <a id="use-cases"></a></h2>

<p><strong>1.</strong> This approach can be used when you had to create extension for searching and previewing DWG file which is an image file in alfresco share.</p>

<p><strong>2.</strong> Approach can be used for creating plugin for searching image in Alfresco using its inner content.</p>

<p>There can be multiple use cases.</p>

<h2>Starting with Example : <a id="starting-with-example"></a></h2>

<p>First of all up to Alfresco 4.0 SWF previewer is used to preview document by converted into SWF flash File from Alfresco 5.0 PDF previewer is used instead of SWF flash previewer used to preview document by converting it into PDF file so to make rendition process fast.</p>

<p>For our DWG previewer with Full text generation process we need two transformation process.</p>

<p><strong>1.</strong> DWG file to PDF file or DWG file to SWF file - Used for previewing DWG file in browser.</p>

<p><strong>2.</strong> DWG file to TXT file – Used for full text search inside DWG file.</p>

<h2>First : <a id="first"></a></h2>

<p>We will focus on viewing DWG over browser for that purpose we need to convert DWG file to SWF flash file for that purpose we can use direct tool to transform DWG to SWF there is no open source tool available in the market for same so we make use of complex transformation process where we first convert our file to SVG file which is an image file then we will convert that image file to PDF file then again PDF to SWF flash file.</p>

<p><strong>FOR ALFRESCO 4.0 :</strong></p>

<p><img src="http://xebee.xebia.in/wp-content/uploads/2014/09/HH.png" alt="C"></p>

<p><strong>Here we convert</strong></p>

<p><strong>1.</strong> DWG to SVG file.</p>

<p><strong>2.</strong> SVG to PDF file.</p>

<p><strong>3.</strong> PDF file to SWF file.</p>

<p><strong>FOR ALFRESCO 5.0 :</strong></p>

<p><img src="http://xebee.xebia.in/wp-content/uploads/2014/09/HH1.png" alt="C"></p>

<p><strong>Here we convert</strong></p>

<p><strong>1.</strong> DWG to SVG file.</p>

<p><strong>2.</strong> SVG to PDF file.</p>

<h2>Second : <a id="second"></a></h2>

<p>We will focus on converting DWG file to TXT file so that search index for the same file can be generated using inside content for that we will convert our DWG file to DXF then DXF file to TXT file again to generating text.</p>

<p><strong>FOR ALFRESCO 4.0 :</strong></p>

<p><img src="http://xebee.xebia.in/wp-content/uploads/2014/09/mm.png" alt="C"></p>

<p><strong>Here we convert</strong></p>

<p><strong>1.</strong> DWG to DXF file.</p>

<p><strong>2.</strong> DXF to TXT file.</p>

<p><strong>FOR ALFRESCO 5.0 :</strong></p>

<p><img src="http://xebee.xebia.in/wp-content/uploads/2014/09/mm.png" alt="C"></p>

<p><strong>Here we convert</strong></p>

<p><strong>1.</strong> DWG to DXF file.</p>

<p><strong>2.</strong> DXF to TXT file.</p>

<p>Now with combination of both we will be able to get complete solution that will be able to preview as well as search inside the DWG image that makes it a perfect solution.</p>

<p>Most of the solution available in the market doesn&#39;t care about the searching area inside the DWG image but our aim is to provide the complete solution that can preview as well as search document completing its functionality.</p>

<p><strong><a href="http://blog.xebia.in/tag/alfresco/">For more hacks about alfresco visit</a></strong></p>

                </div>
            </div>
            <div class="post-tags">
                <i class="fa fa-tags"></i>
                
                <a class="tag_list_link" href="/tag/alfesco">alfesco</a>
                <span class="seperator">,</span>
                
                <a class="tag_list_link" href="/tag/Dwg full text search">Dwg full text search</a>
                <span class="seperator">,</span>
                
                <a class="tag_list_link" href="/tag/Dwg previewer with full text search">Dwg previewer with full text search</a>
                <span class="seperator">,</span>
                
            </div>
            <ul class="post-socials">
              <li><a href="https://www.facebook.com/sharer/sharer.php?u=http://blog.xebia.in/2014/09/02/alfresco-dwg-file-extension-with-full-text-search-support/&t=Alfresco Dwg File Extension With Full Text Search Support" target="_blank"><i class="fa fa-facebook"></i></a></li>
              <li><a href="https://twitter.com/intent/tweet?original_referer=http://blog.xebia.in/2014/09/02/alfresco-dwg-file-extension-with-full-text-search-support/&text=Alfresco Dwg File Extension With Full Text Search Support&url=http://blog.xebia.in/2014/09/02/alfresco-dwg-file-extension-with-full-text-search-support/" target="_blank"><i class="fa fa-twitter"></i></a></li>
              <li><a href="https://plus.google.com/share?url=http://blog.xebia.in/2014/09/02/alfresco-dwg-file-extension-with-full-text-search-support/" target="_blank"><i class="fa fa-google-plus"></i></a></li>
            </ul>
        </div>
    </div>
    <div id="blog-pagination">
        <ul>
        	
            <li class="prev"><a href="/2014/08/30/extending-selenium-grid-capabilities/"><i class="fa fa-angle-left"></i><span>Prev</span></a></li>
            
            
            <li class="separator"></li>
            
            
            <li class="next"><a href="/2014/09/08/ten-useful-javascript-tips-and-best-practices/"><span>Next</span><i class="fa fa-angle-right"></i></a></li>
            
        </ul>
    </div>

    <hr>
    <div id="disqus_thread"></div>
<script type="text/javascript">
/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
var disqus_shortname = 'xebiaww'; // required: replace example with your forum shortname

/* * * DON'T EDIT BELOW THIS LINE * * */
(function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

    <hr>
</div>

 </div>
       <footer>
            <div id="footer-quote">
                <div class="container">
                    <div class="contents">

                    </div>
                </div>
            </div>
            <div id="bottom">
                <div class="container">
                    <ul id="social-icons">
                        <li><a href="https://www.facebook.com/XebiaIndia" target="_blank"><i class="fa fa-facebook"></i></a></li>
                        <li><a href="https://twitter.com/XebiaIndia" target="_blank"><i class="fa fa-twitter"></i></a></li>
                        <li><a href="https://www.linkedin.com/company/xebia" target="_blank"><i class="fa fa-linkedin"></i></a></li>
                        <li><a href="https://github.com/xebiaww" target="_blank"><i class="fa fa-github"></i></a></li>
                    </ul>
                    <div id="copyright">© COPYRIGHT 2015 @Xebia.  ALL RIGHTS RESERVED</div>
                    <a id="home-circle" href=""><i class="fa fa-home"></i></a>
                </div>
            </div>
       </footer>
       <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-58958750-1', 'auto');
  ga('send', 'pageview');

</script>
       <script type="text/javascript" src="/js/jquery-1.11.0.min.js"></script>
       <script type="text/javascript" src="/js/custom.js"></script>
    </body>
</html>

