<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Thoughts on latest technologies">

    <title>Implement Single Click Deployment Using Jenkins And Deployit - Xebia Blog</title>

    <link rel="canonical" href="http://blog.xebia.in/2013/10/16/implement-single-click-deployment-using-jenkins-and-deployit/">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/clean-blog.css">

    <!-- Pygments Github CSS -->
    <link rel="stylesheet" href="/css/syntax.css">

    <!-- Custom Fonts -->
    <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>


<body>

    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Xebia Blog</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="/">Home</a>
                </li>
                
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>


    <!-- Post Header -->
<header class="intro-header" style="background-image: url('/img/default-blog-pic.jpg')">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <h1>Implement Single Click Deployment Using Jenkins And Deployit</h1>
                    
                    <span class="meta">Posted by anirudh.xebia on October 16, 2013</span>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">

        <div class="row">
          <!-- Go to www.addthis.com/dashboard to customize your tools -->
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=shekhargulati" async="async"></script>

            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
              <h4>Reading time about 4  minutes</h4>

              <h1>Implement single click deployment using Jenkins and DeployIt</h1>

<p><strong>Problem statement :</strong> Implement single click deployment using Jenkins and DeployIt <strong>Tools used:</strong> Jenkins CI Server, DeplyIt Plugin for Jenkins, Github plugin for jenkins, Maven for building artifact.</p>

<p><strong>Detailed use case :</strong> Lets suppose we have our code in github in a public repository and we want that every fix which goes to &quot;deployment&quot; branch should get propagated to a dev environment automatically.</p>

<p>In order to get this set up working we would need to do: <strong>1.)</strong> Configure Jenkins with gitHub and deployIt Plugin. <strong>2.)</strong> Configure application placeholder and environment (including infrastructure) in which deployment would take place in DeployIt.  <strong>PART 1: CONFIGURE DEPLOYIT</strong></p>

<p>First lets get the deployIt server up and create application and environment in it.</p>

<p>As per deployIt model, an application is a deployable which gets deployed into an environment (container). So we need application and the environment (comprising of infrastructure and properties files called as dictionaries)</p>

<p>Steps :</p>

<p>1.) Log into deployIt Server with admin privileges. 2.) Go to the Repository Tab -&gt; Right click on Applications andselect new -&gt; Application</p>

<p>Create a new application with name for example TaskMaster (This name would be used in the Jenkins deployIt plugin )</p>

<p><img src="http://xebee.xebia.in/wp-content/uploads/2013/10/Screen-Shot-2013-10-16-at-4.10.56-PM.png" alt="Screen Shot 2013-10-16 at 4.10.56 PM"></p>

<p>3.) Create Infrastructure : point to a local tomcat instance, and name it &quot;tomcat-local&quot; Go to Infrastructure -&gt; New -&gt; Overthere - &gt; Localhost</p>

<p><img src="http://xebee.xebia.in/wp-content/uploads/2013/10/Screen-Shot-2013-10-16-at-4.14.35-PM-1024x567.png" alt="Screen Shot 2013-10-16 at 4.14.35 PM"></p>

<p>4.) Define Tomcat using tomcat plugin and configure its path in infrastructure.</p>

<p>Right click on the created infrastructure -&gt; New -&gt;tc-&gt;tomcat we need to give value for home (path to Tomcat): /Users/xebia/apache-tomcat-7.0.42</p>

<p><img src="http://xebee.xebia.in/wp-content/uploads/2013/10/Screen-Shot-2013-10-16-at-4.18.21-PM-1024x588.png" alt="Screen Shot 2013-10-16 at 4.18.21 PM"></p>

<p>5.) Create Environment : Using this Infrastructure make a new environment</p>

<p>Name this Environment as Tomcat-Local and add the Infrastructure just created in it, and also add any dictionary (properties file)</p>

<p><img src="http://xebee.xebia.in/wp-content/uploads/2013/10/Screen-Shot-2013-10-16-at-4.20.06-PM-1024x591.png" alt="Screen Shot 2013-10-16 at 4.20.06 PM"></p>

<p>Last step would be to check the connection with the server, and make sure everything is configured properly.</p>

<p>After application and environment are successfully configured in deployIT, Lets configure Jenkins.</p>

<p><strong>PART 2: Configure Jenkins and plugins.</strong></p>

<p><strong>1.)</strong> Set up Jenkins CI server : Either install Jenkins as standalone server using the installer <a href="http://jenkins-ci.org">here</a>. Or just add the Jenkins WAR (download from here ) into your tomcat server webapps folder. Do the basic configurations required for Jenkins like set up workspace, JDK path, maven, git etc.</p>

<p><strong>2.)</strong> Install github and deployIt plugin - Go to &quot;Manage Jenkins&quot; -&gt; &quot;Manage Plugins&quot; -&gt; click on available plugins tab and search for deployIt plugin, Install Deployit Jenkins plugin. Then search for gihub plugin and install GitHub plugin, it will install Jenkins Git plugin along with several other supporting plugins like SSH plugin etc. - we would need to provide deployIt server URL and credentials in this section as well.</p>

<p><img src="http://xebee.xebia.in/wp-content/uploads/2013/10/Screen-Shot-2013-10-16-at-3.37.32-PM-300x88.png" alt="Screen Shot 2013-10-16 at 3.37.32 PM"></p>

<p>3.) After we have got the required plugins and have configured Jenkins; lets make a new job, we will call it &quot;Test-DeployIt-Deployment&quot;. ( Go to &quot;New Job&quot; link , select Build a free-style software project radio button )</p>

<p>4.) configuring project set up</p>

<p>On the page to configure new job, put the below settings :</p>

<p>4.1.) Project Name would be prepopulated, add a description if you want 4.2.) GitHub repository configuration - give the URL of the project under &quot;GitHub project&quot; section. I gave it for my project on github - &gt; https://github.com/anirudh83/TaskMaster1.1/</p>

<p><img src="http://xebee.xebia.in/wp-content/uploads/2013/10/Screen-Shot-2013-10-16-at-4.23.35-PM-1024x296.png" alt="Screen Shot 2013-10-16 at 4.23.35 PM"></p>

<p>4.3) Source Code Management</p>

<ul>
<li>Go to section Source Code Management, and select git radio button. Give the repository URL for HTTPs as we would be doing a read only checkout. (https://github.com/anirudh83/TaskMaster1.1.git, for my case)</li>
</ul>

<p>-Give the branch name to be build ( deployment branch in my case)</p>

<p><img src="http://xebee.xebia.in/wp-content/uploads/2013/10/Screen-Shot-2013-10-16-at-4.24.43-PM.png" alt="Screen Shot 2013-10-16 at 4.24.43 PM"></p>

<p>4.4) Build Triggers : Click on check box saying : Build when a change is pushed to GitHub</p>

<p>4.5) Select Build Step - to build the checkout source code using maven, and add the maven goal to be executed</p>

<p>-Add clean package as the maven goal</p>

<p>4.6) Add Post-build action - Deploy with DeployIt (Make sure DeployIt plugin is configured in manage Jenkins section and it is running)</p>

<p><img src="http://xebee.xebia.in/wp-content/uploads/2013/10/Screen-Shot-2013-10-16-at-3.44.55-PM-300x104.png" alt="Screen Shot 2013-10-16 at 3.44.55 PM"></p>

<p>4.7) Configure DeployIt to make a package, export it into the &quot;application&quot; in DeployIT and deploy it into the target environment configured in deployIT. See the configuration below :</p>

<p><img src="http://xebee.xebia.in/wp-content/uploads/2013/10/Screen-Shot-2013-10-16-at-4.28.50-PM1.png" alt="Screen Shot 2013-10-16 at 4.28.50 PM"></p>

<p>Once everything is configured we can save this job and trigger the build.</p>

<p>Make sure that version gets changed on every build. We can use $BUILD_NUMBER for the same.</p>

<p>We also need to provide Jenkins URL in our github repository in the hook so that it can trigger the build.</p>

<p><img src="http://xebee.xebia.in/wp-content/uploads/2013/10/Screen-Shot-2013-10-16-at-4.31.03-PM-1024x491.png" alt="Screen Shot 2013-10-16 at 4.31.03 PM"></p>

<p>Hope this post would help you get going in the path of contiuous delivery using Jenkins and DeployIt.</p>

<p>In the next blog post we will see how puppet plugin for deployIt can be used to provision the infrastructure.</p>


                <hr>

                <div id="disqus_thread"></div>
<script type="text/javascript">
/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
var disqus_shortname = 'xebiaww'; // required: replace example with your forum shortname

/* * * DON'T EDIT BELOW THIS LINE * * */
(function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

                <hr>

                <ul class="pager">
                    
                    <li class="previous">
                        <a href="/2013/10/14/real-time-querying-on-hadoop-using-impala/" data-toggle="tooltip" data-placement="top" title="Real Time Querying On Hadoop Using Impala">&larr; Previous Post</a>
                    </li>
                    
                    
                    <li class="next">
                        <a href="/2013/10/16/jsf-validations-without-validators/" data-toggle="tooltip" data-placement="top" title="Jsf Validations Without Validators">Next Post &rarr;</a>
                    </li>
                    
                </ul>

            </div>
        </div>
    </div>
</article>

<hr>


    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    <li>
                        <a href="/feed.xml">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="https://twitter.com/XebiaIndia">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li>
                        <a href="https://www.facebook.com/XebiaIndia">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-facebook fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li>
                        <a href="https://github.com/xebiaww">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                </ul>
                <p class="copyright text-muted">Copyright &copy; Xebia Blog 2015</p>
            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="/js/jquery.min.js "></script>

<!-- Bootstrap Core JavaScript -->
<script src="/js/bootstrap.min.js "></script>

<!-- Custom Theme JavaScript -->
<script src="/js/clean-blog.min.js "></script>


</body>

</html>
